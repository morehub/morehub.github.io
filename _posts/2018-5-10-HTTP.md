---
layout: post
title: CONFIGURANDO HTTP/HTTPS
---



 Instalando Apache y manuales

    yum install httpd http-manual
    
 Habilitando servicios

    systemctl enable httpd
    
    systemctl start httpd
    
 
 Creando Virtual hosts
 
     cd /etc/httpd/conf.d
 
     vim 00_vhost.conf

>ANEXO I

>Agregar informacion rapidamente a vim

      :r!cat /usr/share/doc/httpd-2.4.6/httpd-vhosts.conf

>Encontrar formas de directorio con la ayuda del sistema

      cat ../conf/httpd.conf

______________________________________


Se deberia visualizar con esta forma el documento

```
<VirtualHost _default_:80>
    ServerAdmin webmaster@dummy-host.example.com
    DocumentRoot "/data/default/www"
    ServerName www1.example.com
    ServerAlias www1.example.com
    ErrorLog "/var/log/httpd/www1.example.com-error_log"
    CustomLog "/var/log/httpd/www1.example.com-access_log" combined
</VirtualHost>

Directory=dir donde se encuentra el VH

<Directory "/data/default/www">
    AllowOverride None
    Require all granted
</Directory>
```

Agregamos directorio y generamos un index de prueba

    mkdir -p /data/default/www

    echo "Defaults Web Server" > /data/default/www/index.html
    
Generamos contextos a selinux 

    semanage fcontext -a -t httpd_sys_content_t "/data(/.*)?"
    
    restorecon -Rvvv /data
    
 Verificar desde el navegador
    
    http://www1.example.com/


Reiniciamos servicios y agregamos regla al firewall

```
    systemctl restart httpd

    firewall-cmd --permanent --add-service=http


```

>ANEXO II

>Agregar DNS ZONE al dominio desde servidor IPA si se quiere visualisar desde otro cliente

>-CONFIG :

>Record name = WWW1

>Record Type = CNAME

>Hostname = Nombredeservidor









    

